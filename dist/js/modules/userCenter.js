webpackJsonp([5],{34:function(a,b,c){var d,e;d=c(35);var f=c(36);e=d=d||{},("object"==typeof d.default||"function"==typeof d.default)&&(Object.keys(d).some(function(a){return"default"!==a&&"__esModule"!==a})&&console.error("named exports are not supported in *.vue files."),e=d=d.default),"function"==typeof e&&(e=e.options),e.__file="E:\\myProject\\jm_web\\src\\views\\main\\userCenter.vue",e.render=f.render,e.staticRenderFns=f.staticRenderFns,!1,e.functional&&console.error("[vue-loader] userCenter.vue: functional components are not supported and should be defined in plain js files using render functions."),a.exports=d},35:function(a){a.exports={created:function(){var a=this;window.vm=a,a.getUserInfo(),a.getUserWarehouse(),a.$store.dispatch("setTitle","\u4E2A\u4EBA\u4E2D\u5FC3"),a.$store.dispatch("setConfig",{hideLeftBtn:!0,hideRightBtn:!0}),a.$store.dispatch("setTabActive",1)},data:function(){return{userDataInit:!1,userData:{uid:"",nickname:"",sex:"",level:"",birthday:"",qq:"",score:"",login:"",reg_ip:"",reg_time:"",last_login_ip:"",last_login_time:"",status:"",avatar:"1"},userWarehouseDataInit:!1,userWarehouseData:{uid:"",rep_score:0,honey:0,sugar:0,point:0,sugar_rate:0,weak_rate:0,base_distribute:0,yield_rate:0,create_time:0,update_time:0,total_jar_score:0},isPopShow:!1,curAvatar:"1",avatarList:function(){for(var a=[],b=0;16>b;b++)a.push(b+1);return a}()}},methods:{getUserInfo:function(){var a=this;a.$http({method:"get",url:"/user/info"}).then(function(b){a.userDataInit=!0,a.userData=b.body.data})},getUserWarehouse:function(){var a=this;a.$http({method:"get",url:"/user/warehouse"}).then(function(b){a.userWarehouseDataInit=!0,a.userWarehouseData=b.body.data})},showPop:function(){var a=this;a.isPopShow=!0,a.curAvatar=a.userData.avatar},hidePop:function(){this.isPopShow=!1},setCurAvatar:function(a){this.curAvatar=a},updateAvatar:function(){var a=this;a.$http({method:"post",url:"/user/updateUserInfo",body:{avatar:a.curAvatar}}).then(function(){a.userData.avatar=a.curAvatar,a.hidePop(),a.$store.dispatch("showTips","\u4FEE\u6539\u7528\u6237\u5934\u50CF\u6210\u529F")})},logout:function(){var a=this;a.$http({method:"get",url:"/auth/logout"}).then(function(){a.$store.dispatch("showTips","\u6210\u529F\u9000\u51FA\u767B\u5F55"),localStorage.removeItem("hasLogin"),a.$router.push({path:"/login"})})},goTo:function(a){this.$router.push({path:a})}}}},36:function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",[a.userDataInit?c("div",{staticClass:"uc-user-msg-wrap"},[c("div",{staticClass:"uc-avatar avatar",class:["avatar-"+a.userData.avatar],on:{click:a.showPop}}),a._v(" "),c("p",{staticClass:"name"},[a._v(a._s(a.userData.nickname))]),a._v(" "),c("p",{staticClass:"uid cm-text-dark"},[a._v("\u7528\u6237\u5E10\u53F7\uFF1A"+a._s(a.userData.uid))]),a._v(" "),c("div",{staticClass:"level"},[c("p",[a._v("\u7EA7\u522B")]),a._v(" "),c("p",{staticClass:"cm-text-dark"},[a._v(a._s(a.userData.level))])])]):a._e(),a._v(" "),a.userWarehouseDataInit?c("div",{staticClass:"uc-count-wrap"},[c("div",{staticClass:"item item-01"},[a._v("\n            \u9175\u6BCD\uFF08"),c("span",{staticClass:"cm-text-red"},[a._v(a._s(a.userWarehouseData.rep_score))]),a._v("\uFF09\n        ")]),a._v(" "),c("div",{staticClass:"item item-02"},[a._v("\n            \u8702\u871C\uFF08"),c("span",{staticClass:"cm-text-red"},[a._v(a._s(a.userWarehouseData.honey))]),a._v("\uFF09\n        ")]),a._v(" "),c("div",{staticClass:"item item-03"},[a._v("\n            \u7EA2\u7CD6\uFF08"),c("span",{staticClass:"cm-text-red"},[a._v(a._s(a.userWarehouseData.sugar))]),a._v("\uFF09\n        ")])]):a._e(),a._v(" "),c("div",{staticClass:"cm-list-wrap main-menu-wrap"},[c("ul",{staticClass:"list list-can-open menu-list"},[c("li",{staticClass:"item menu-item",on:{click:function(){a.goTo("/main/friends")}}},[a._v("\n                \u597D\u53CB\u73A9\u5BB6\n                "),c("i",{staticClass:"icon iconfont icon-right"})]),a._v(" "),c("li",{staticClass:"item menu-item",on:{click:function(){a.goTo("/main/newPlayer")}}},[a._v("\n                \u5F00\u53D1\u65B0\u73A9\u5BB6\n                "),c("i",{staticClass:"icon iconfont icon-right"})]),a._v(" "),c("li",{staticClass:"item menu-item",on:{click:function(){a.goTo("/main/warehouse")}}},[a._v("\n                \u4ED3\u5E93\n                "),c("i",{staticClass:"icon iconfont icon-right"})]),a._v(" "),c("li",{staticClass:"item menu-item",on:{click:function(){a.goTo("/main/changePwd")}}},[a._v("\n                \u4FEE\u6539\u5BC6\u7801\n                "),c("i",{staticClass:"icon iconfont icon-right"})])])]),a._v(" "),c("div",{staticClass:"cm-list-wrap main-menu-wrap main-mt-2"},[c("ul",{staticClass:"list list-can-open menu-list"},[c("li",{staticClass:"item menu-item",on:{click:function(){a.goTo("/main/sell")}}},[c("i",{staticClass:"menu-icon menu-icon-01"}),a._v("\n                \u8F6C\u8BA9\n                "),c("i",{staticClass:"icon iconfont icon-right"})]),a._v(" "),c("li",{staticClass:"item menu-item"},[c("i",{staticClass:"menu-icon menu-icon-02"}),a._v("\n                \u57FA\u51C6\u53D1\u653E\u7387\n                "),c("span",{staticClass:"inner-text"},[a._v(a._s((1*a.userWarehouseData.base_distribute).toFixed(2)+"%"))])]),a._v(" "),c("li",{staticClass:"item menu-item"},[c("i",{staticClass:"menu-icon menu-icon-03"}),a._v("\n                \u8870\u51CF\u503C\n                "),c("span",{staticClass:"inner-text"},[a._v(a._s((1*a.userWarehouseData.weak_rate).toFixed(2)+"%"))])]),a._v(" "),c("li",{staticClass:"item menu-item"},[c("i",{staticClass:"menu-icon menu-icon-04"}),a._v("\n                \u79EF\u5206\n                "),c("span",{staticClass:"inner-text"},[a._v(a._s(a.userWarehouseData.point))])])])]),a._v(" "),c("button",{staticClass:"uc-btn",on:{click:a.logout}},[a._v("\u9000\u51FA\u767B\u5F55")]),a._v(" "),c("div",{directives:[{name:"show",rawName:"v-show",value:a.isPopShow,expression:"isPopShow"}],staticClass:"uc-avatar-pop"},[c("h3",{staticClass:"title"},[a._v("\u4FEE\u6539\u7528\u6237\u5934\u50CF")]),a._v(" "),c("div",{staticClass:"cont"},[c("ul",{staticClass:"avatar-list"},a._l(a.avatarList,function(b){return c("li",{staticClass:"item",class:{active:a.curAvatar==b},on:{click:function(){a.setCurAvatar(b)}}},[c("div",{staticClass:"inner uc-avatar",class:["avatar-"+b]})])})),a._v(" "),c("div",{staticClass:"btn-wrap"},[c("button",{staticClass:"btn btn-yes",on:{click:a.updateAvatar}},[a._v("\u786E\u5B9A")]),a._v(" "),c("button",{staticClass:"btn btn-no",on:{click:a.hidePop}},[a._v("\u53D6\u6D88")])])])]),a._v(" "),c("div",{directives:[{name:"show",rawName:"v-show",value:a.isPopShow,expression:"isPopShow"}],staticClass:"enzyme-pop-mask",on:{click:a.hidePop}})])},staticRenderFns:[]},!1}});