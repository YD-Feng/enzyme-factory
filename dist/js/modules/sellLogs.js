webpackJsonp([12],{55:function(a,b,c){var d,e;d=c(56);var f=c(57);e=d=d||{},("object"==typeof d.default||"function"==typeof d.default)&&(Object.keys(d).some(function(a){return"default"!==a&&"__esModule"!==a})&&console.error("named exports are not supported in *.vue files."),e=d=d.default),"function"==typeof e&&(e=e.options),e.__file="E:\\myProject\\jm_web\\src\\views\\main\\sellLogs.vue",e.render=f.render,e.staticRenderFns=f.staticRenderFns,!1,e.functional&&console.error("[vue-loader] sellLogs.vue: functional components are not supported and should be defined in plain js files using render functions."),a.exports=d},56:function(a){a.exports={created:function(){var a=this;window.vm=a,a.getLogs(),a.$store.dispatch("setTitle","\u51FA\u552E\u8BB0\u5F55"),a.$store.dispatch("setConfig",{hideLeftBtn:!1,hideRightBtn:!1}),a.$store.dispatch("setTabActive",3)},data:function(){return{curPage:1,totalPage:1,logList:[],initFlag:!1,typeNames:{rep_score:"\u9175\u6BCD",honey:"\u8702\u871C",sugar:"\u7EA2\u7CD6",point:"\u79EF\u5206"}}},methods:{getLogs:function(){var a=this;a.$http({method:"get",url:"/trade/tradeRecords",params:{p:a.curPage,p_size:10,trade_type:"sell"}}).then(function(b){a.initFlag=!0,a.totalPage=1*b.body.data.total_page,a.logList=a.logList.concat(b.body.data.records_list)})},loadMore:function(){var a=this;a.curPage++,a.getLogs()},clearLogs:function(){var a=this,b=[];return a.logList.forEach(function(a){b.push(a.id)}),0==b.length?void a.$store.dispatch("showTips","\u6CA1\u6709\u9700\u8981\u6E05\u9664\u7684\u8BB0\u5F55"):void a.$http({method:"post",url:"/trade/clearRecords",body:{ids:b}}).then(function(){a.$store.dispatch("showTips","\u6E05\u9664\u8BB0\u5F55\u6210\u529F"),a.logList=[],a.curPage=1,a.getLogs()})},confirm:function(a){var b=this;b.$http({method:"post",url:"/trade/confirm_record",body:{id:a}}).then(function(){b.$store.dispatch("showTips","\u786E\u8BA4\u6210\u529F"),b.logList=[],b.curPage=1,b.getLogs()})},cancel:function(a){var b=this;b.$http({method:"post",url:"/trade/cancel_record",body:{id:a}}).then(function(){b.$store.dispatch("showTips","\u53D6\u6D88\u6210\u529F"),b.logList=[],b.curPage=1,b.getLogs()})}}}},57:function(a){a.exports={render:function(){var a=this,b=a.$createElement,c=a._self._c||b;return a.initFlag?c("div",[c("div",{staticClass:"logs-top"},[c("span",{staticClass:"fl fBold"},[a._v("\u51FA\u552E\u8BB0\u5F55")]),a._v(" "),c("span",{staticClass:"fr cm-text-blue",on:{click:function(){a.clearLogs()}}},[a._v("\u6E05\u9664\u8BB0\u5F55")])]),a._v(" "),c("ul",{staticClass:"logs-list"},[a._l(a.logList,function(b){return c("li",{staticClass:"item"},[c("table",{attrs:{width:"100%"}},[c("tr",[c("td",{staticClass:"col-time"},[a._v("\n                        "+a._s(b.create_time.split(" ")[0])),c("br"),a._v(" "),c("span",{staticClass:"cm-text-dark"},[a._v(a._s("AM"==b.create_time.split(" ")[1]?"\u4E0A\u5348":"\u4E0B\u5348")+a._s(b.create_time.split(" ")[2]))])]),a._v(" "),c("td",{staticClass:"col-desc"},[a._v("\n                        \u51FA\u552E\xA0"),c("span",{staticClass:"cm-text-red"},[a._v(a._s(b.trade_score))]),a._v("\xA0"+a._s(a.typeNames[b.sale_type])+"\xA0\u7ED9\xA0"),c("span",{staticClass:"cm-text-red"},[a._v(a._s(b.trade_score))]),a._v(" "),c("p",{staticClass:"text-wrap"},[a._v(a._s(100==b.trade_status?"\u8BF7\u786E\u5B9A\u6216\u8005\u53D6\u6D88":b.trade_status_text))]),a._v(" "),c("div",{directives:[{name:"show",rawName:"v-show",value:100==b.trade_status,expression:"item.trade_status == 100"}],staticClass:"btn-wrap"},[c("button",{staticClass:"btn btn-no",on:{click:function(){a.cancel(b.id)}}},[a._v("\u53D6\u6D88")]),a._v(" "),c("button",{staticClass:"btn btn-yes",on:{click:function(){a.confirm(b.id)}}},[a._v("\u786E\u5B9A")])])])])])])}),a._v(" "),0==a.logList.length?c("li",{staticClass:"cm-no-data"},[a._v("\u6682\u65E0\u4EFB\u4F55\u8BB0\u5F55")]):a._e()],2),a._v(" "),c("div",{directives:[{name:"show",rawName:"v-show",value:a.curPage<a.totalPage,expression:"curPage < totalPage"}],staticClass:"logs-load-more cm-text-blue",on:{click:a.loadMore}},[a._v("\u70B9\u51FB\u67E5\u770B\u66F4\u591A")]),a._v(" "),c("br"),c("br"),c("br"),c("br")]):a._e()},staticRenderFns:[]},!1}});